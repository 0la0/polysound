<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="tempo-button">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }
    </style>

    <span id="startStop">Start</span>

  </template>

  <script>
    (function() {
      'use strict';

      class TempoButton {

        get behaviors() {
          return [];
        }

        beforeRegister() {
          this.is = 'tempo-button';

          this.properties = {
            metronome: Object
          };

          this.listeners = {
            'down': '_onDown'
          };

        }

        ready() {}
        attached() {
          this.button = this.$$('span');
        }
        detached() {}
        attributeChanged() {}

        _onDown (event) {
          if (this.metronome.isRunning) {
            this.metronome.stop();
            this._setText('Start');
          }
          else {
            this.metronome.start();
            this._setText('Stop');
          }
        }

        _setText (text) {
          this.button.innerText = text;
        }

      }

      Polymer(TempoButton );
    })();
  </script>

</dom-module>
